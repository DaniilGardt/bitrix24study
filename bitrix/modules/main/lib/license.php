<? namespace Bitrix\Main;$GLOBALS['____528757540']= array(base64_decode('ZmlsZ'.'V9leGlz'.'dHM='),base64_decode('c3R'.'y'.'dG9'.'1cHB'.'lcg=='),base64_decode('bWQ1'),base64_decode('bWQ1'),base64_decode(''.'aW5'.'fYXJyYXk='),base64_decode('aW5fY'.'XJyYXk'.'='),base64_decode('aW5'.'fYXJyY'.'X'.'k='),base64_decode(''.'ZGVmaW'.'5lZA=='),base64_decode('Z'.'GVmaW5lZA=='),base64_decode('ZG'.'V'.'ma'.'W5lZ'.'A=='),base64_decode(''.'Z'.'mlsZV9leGlzdHM='),base64_decode(''.'Zml'.'sZV'.'9l'.'e'.'Glz'.'dHM='),base64_decode(''.'ZmlsZV9'.'leGlzdHM='),base64_decode(''.'ZmlsZV9leGlzdHM='),base64_decode('ZXhwbG9kZQ'.'=='));if(!function_exists(__NAMESPACE__.'\\___814820218')){function ___814820218($_619728243){static $_1966457438= false; if($_1966457438 == false) $_1966457438=array('L2'.'JpdHJ'.'peC9s'.'a'.'WNlbn'.'NlX2tleS5waHA=','','','REVNTw==','R'.'EV'.'NTw==','QklUUk'.'lY','TElD'.'RU'.'5DRQ'.'==','REV'.'N'.'Tw==','L'.'2tleV91cGRhdG'.'UucGhwP2xpY'.'2'.'Vuc'.'2'.'Vf'.'a2V5PQ='.'=','Jn'.'R'.'v'.'YmFza'.'2V0PXkmbG'.'FuZz0'.'=','c'.'n'.'U=',''.'a3o'.'=','Yn'.'k=','aHR0cH'.'M6'.'Ly'.'9kZXYu'.'M'.'WMtYml0cml'.'4L'.'n'.'J1L'.'2'.'xl'.'YXJu'.'aW5n'.'L2'.'NvdXJzZS9pb'.'mRleC'.'5'.'waHA/Q'.'0'.'9VUlN'.'FX0lEPT'.'E'.'z'.'NSZ'.'MRVNTT'.'0'.'5'.'f'.'SUQ9M'.'jU3MjA=','aH'.'R0c'.'HM6'.'Ly'.'9'.'0cmFpbml'.'uZ'.'y5'.'iaXRyaX'.'g'.'yNC5jb'.'20vc'.'3'.'VwcG9y'.'dC90cmF'.'pbmluZy'.'9jb3Vyc2'.'Uv'.'a'.'W'.'5'.'kZXgucGhwP0'.'NPVVJTRV'.'9JRD0xNzgm'.'TEVTU09OX0lEPTI1OTMyJkxF'.'U1'.'NP'.'Tl9QQVRIPTE3'.'NTIw'.'Lj'.'E'.'3NTYy'.'Lj'.'I1OTM'.'wL'.'jI1OTM'.'y',''.'cn'.'U=','Ynk=','a3o=','ZGU'.'=',''.'ZXU'.'=','ZnI=','c'.'Gw=','aX'.'Q=','dWs=',''.'ZX'.'U'.'=','Y2'.'9t','ZW4=','REVNTw==','WQ'.'==','VElN'.'RU'.'xJ'.'T'.'UlUX0VESVRJT'.'0'.'4=','WQ'.'==',''.'RU5DT0RF','WQ==','U2'.'l'.'0Z'.'UV4cGlyZ'.'URh'.'dG'.'U=','bWFpb'.'g==',''.'f'.'n'.'N1c'.'H'.'BvcnRf'.'ZmluaXNoX2Rh'.'dGU=',''.'W'.'S1tLWQ=','W'.'S1t'.'L'.'WQ=','Ym'.'l'.'0cml4MjQ=','b'.'WF'.'pbg==',''.'flBBUkFN'.'X0N'.'MSU'.'VOVF9MQU'.'5H','aW'.'50'.'cm'.'FuZX'.'Q=',''.'Z'.'W4=','cnU=','bWFpbg==','dm'.'Vu'.'ZG9y','Yml'.'0cml4X3BvcnRhbA'.'='.'=','ZW'.'4=','MWN'.'fY'.'ml0c'.'ml4X3B'.'v'.'cnRh'.'bA'.'==','cn'.'U=','L2JpdHJ'.'peC9tb2R1bGV'.'zL'.'21h'.'aW'.'4vbG'.'FuZy'.'91Y'.'Q='.'=','dWE=',''.'L'.'2JpdHJp'.'eC9t'.'b2R1bG'.'VzL2'.'1haW4v'.'bGFu'.'Zy9ieQ'.'='.'=','Yn'.'k'.'=',''.'L'.'2J'.'pdH'.'Jpe'.'C9tb2R1'.'bG'.'V'.'zL2'.'1haW'.'4vbGFuZy9reg==',''.'a3o=','L2J'.'pdHJpeC9t'.'b2R1bGVzL21ha'.'W4vbG'.'FuZy'.'9'.'ydQ==','cnU'.'=','bWF'.'pb'.'g==','flBBUkFNX'.'1'.'BB'.'UlRORVJfSUQ=','bWFp'.'b'.'g'.'==','UEFSQU1fT'.'UFY'.'X1'.'VTRVJT','b'.'W'.'F'.'pbg'.'==','fkN'.'PVU5UX0VYV'.'FJB','Tg==','W'.'Q='.'=',''.'ZX'.'h'.'0cmF'.'uZXQ'.'=','QU5E'.'IFUu'.'TE'.'FT'.'VF9MT0dJT'.'iA+IA==','QU5'.'E'.'IF'.'U'.'u'.'TEF'.'TV'.'F9MT0dJTi'.'BJ'.'Uy'.'BOT1Q'.'gTlVMT'.'A='.'=','a'.'W5'.'0cm'.'F'.'u'.'Z'.'X'.'Q=','ZXh0'.'c'.'mFu'.'ZXQ'.'=','ZXh0'.'cm'.'FuZX'.'RfZ3Jv'.'d'.'X'.'A=','b'.'WFpbg==',''.'fmx'.'pY2Vuc2VfbmFt'.'ZQ==','bW'.'Fp'.'bg='.'=','fmxp'.'Y'.'2Vuc2VfY29kZXM=','','LA'.'==');return base64_decode($_1966457438[$_619728243]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_432395292= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_432395292 === null){ $_423397352= Loader::getDocumentRoot(). ___814820218(0); $LICENSE_KEY= ___814820218(1); if($GLOBALS['____528757540'][0]($_423397352)){ include($_423397352);} $this->_432395292=($LICENSE_KEY == ___814820218(2) || $GLOBALS['____528757540'][1]($LICENSE_KEY) == ___814820218(3)? ___814820218(4): $LICENSE_KEY);} return $this->_432395292;} public function getHashLicenseKey(): string{ return $GLOBALS['____528757540'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____528757540'][3](___814820218(5). $this->getKey(). ___814820218(6));} public function isDemoKey(): bool{ return $this->getKey() == ___814820218(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___814820218(8). $this->getHashLicenseKey(). ___814820218(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_1305463871= $this->getRegion(); if($GLOBALS['____528757540'][4]($_1305463871,[___814820218(10), ___814820218(11), ___814820218(12)])){ return ___814820218(13);} return ___814820218(14);} public function getRenewalLink(): string{ $_1305463871= $this->getRegion(); if($GLOBALS['____528757540'][5]($_1305463871,[___814820218(15), ___814820218(16), ___814820218(17), ___814820218(18)])){ return self::URL_RENEWAL_LICENSE[$_1305463871];} if($GLOBALS['____528757540'][6]($_1305463871,[___814820218(19), ___814820218(20), ___814820218(21), ___814820218(22), ___814820218(23)])){ return self::URL_RENEWAL_LICENSE[___814820218(24)];} return self::URL_RENEWAL_LICENSE[___814820218(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___814820218(26)];} public function isDemo(): bool{ return $GLOBALS['____528757540'][7](___814820218(27)) && DEMO === ___814820218(28);} public function isTimeBound(): bool{ return $GLOBALS['____528757540'][8](___814820218(29)) && TIMELIMIT_EDITION === ___814820218(30);} public function isEncoded(): bool{ return $GLOBALS['____528757540'][9](___814820218(31)) && ENCODE === ___814820218(32);} public function getExpireDate():?Date{ $_972156404= (int)($GLOBALS[___814820218(33)] ??(184*2-368)); if($_972156404> min(246,0,82)){ return Date::createFromTimestamp($_972156404);} return null;} public function getSupportExpireDate():?Date{ $_972156404= Option::get(___814820218(34), ___814820218(35)); if(Date::isCorrect($_972156404, ___814820218(36))){ return new Date($_972156404, ___814820218(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___814820218(38))){ return \CBitrix24::getPortalZone();} $_1305463871= Option::get(___814820218(39), ___814820218(40)); if(!empty($_1305463871)){ return $_1305463871;} $_1305463871= $this->__1839129694(); if(!empty($_1305463871)){ return $_1305463871;} return $this->__1985683539();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___814820218(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___814820218(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___814820218(43)];} private function __1839129694():?string{ $_704477660= Option::get(___814820218(44), ___814820218(45)); if($_704477660 === ___814820218(46)){ return ___814820218(47);} if($_704477660 === ___814820218(48)){ return ___814820218(49);} return null;} private function __1985683539():?string{ $_1304521654= Application::getDocumentRoot(); if($GLOBALS['____528757540'][10]($_1304521654. ___814820218(50))){ return ___814820218(51);} if($GLOBALS['____528757540'][11]($_1304521654. ___814820218(52))){ return ___814820218(53);} if($GLOBALS['____528757540'][12]($_1304521654. ___814820218(54))){ return ___814820218(55);} if($GLOBALS['____528757540'][13]($_1304521654. ___814820218(56))){ return ___814820218(57);} return null;} public function getPartnerId(): int{ return (int)Option::get(___814820218(58), ___814820218(59),(241*2-482));} public function getMaxUsers(): int{ return (int)Option::get(___814820218(60), ___814820218(61), min(206,0,68.666666666667));} public function isExtraCountable(): bool{ return Option::get(___814820218(62), ___814820218(63), ___814820218(64)) === ___814820218(65) && ModuleManager::isModuleInstalled(___814820218(66));} public function getActiveUsersCount(Date $_736387952= null): int{ $_23236608= Application::getConnection(); $_1951998491=(790-2*395); if($_736387952 !== null){  $_1764538993= ___814820218(67).$_23236608->getSqlHelper()->convertToDbDate($_736387952);} else{  $_1764538993= ___814820218(68);} if(ModuleManager::isModuleInstalled(___814820218(69))){ $_937342841="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1764538993}
			"; $_1951998491= (int)$_23236608->queryScalar($_937342841); $_1940764051= (int)Option::get(___814820218(70), ___814820218(71)); if($_1940764051>(956-2*478) && $this->isExtraCountable()){ $_937342841="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_1940764051}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1764538993}
							AND D.VALUE_ID IS NULL
					"; $_1951998491 += (int)$_23236608->queryScalar($_937342841);}} return $_1951998491;}  public function getName(): string{ return Option::get(___814820218(72), ___814820218(73));}  public function getCodes(): array{ $_1142267424= Option::get(___814820218(74), ___814820218(75)); if($_1142267424 != ___814820218(76)){ return $GLOBALS['____528757540'][14](___814820218(77), $_1142267424);} return[];}}?>